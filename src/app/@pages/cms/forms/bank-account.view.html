<div class="right_col" role="main">
  <div class="settings mg-t-60 ht-90v pd-0" [perfectScrollbar]="config">
    <div class="d-sm-flex align-items-center justify-content-between mg-b-30 mg-lg-b-25 mg-xl-b-30 ">
      <h1 class="br-title mg-b-0">New Bank Account</h1>
    </div>
    <div class="mg-y-30">
      <form [formGroup]="formData" (ngSubmit)="createBankAccount()">
        <div class="row">
          <div class="form-group col-sm-4">
            <label>Client No</label>
            <ng-select bindLabel="Name" bindValue="Client_No" [searchFn]="clientNoSearch" class="wd-100p" formControlName="clientNo" [items]="clientNo"
              placeholder="Client No" [ngClass]="{ 'is-invalid': submitted && f.clientNo.errors }" [(ngModel)]="client_No">
              <ng-template ng-option-tmp let-item="item">
                {{item.Name}}
                <small class="subOption">{{item.Client_No}}</small>
              </ng-template>
            </ng-select>
          </div>
          <div class="form-group col-sm-4">
            <label>Name</label>
            <input type="text" class="form-control" formControlName="name" placeholder="Name"
              [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>Name 2</label>
            <input type="text" class="form-control" formControlName="name2" placeholder="Name 2"
              [ngClass]="{ 'is-invalid': submitted && f.name2.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>Posting Group</label>
            <ng-select  bindLabel="Description" bindValue="Code" [searchFn]="PostingSearch" class="wd-100p" formControlName="postingGroup" [items]="postingGroup"
              placeholder="Posting Group" [ngClass]="{ 'is-invalid': submitted && f.postingGroup.errors }" [(ngModel)]="bank_Code">
              <ng-template ng-option-tmp let-item="item">
                {{item.Code}}
                <small class="subOption">{{item.Description}}</small>
              </ng-template>
            </ng-select>
          </div>
          <div class="form-group col-sm-4">
            <label>Currency Code</label>
            <ng-select  bindLabel="currencycode" bindValue="currencycode" [searchFn]="CurrencySearch" class="wd-100p" formControlName="currencyCode" [items]="currencyCode"
              placeholder="Currency Code" [ngClass]="{ 'is-invalid': submitted && f.currencyCode.errors }" [(ngModel)]="posting_Group">
              <ng-template ng-option-tmp let-item="item">
                {{item.description}}
                <small class="subOption">{{item.currencycode}}</small>
              </ng-template>
            </ng-select>
          </div>
          <div class="form-group col-sm-4">
            <label>Bank Code</label>
            <ng-select bindLabel="Name" bindValue="Code" [searchFn]="bankCodeSearch" class="wd-100p" formControlName="bankCode"
              [items]="bankCode" placeholder="Bank Code" [ngClass]="{ 'is-invalid': submitted && f.bankCode.errors }"
              [(ngModel)]="bank_Code">
              <ng-template ng-option-tmp let-item="item">
                {{item.Name}}
                <small class="subOption">{{item.Code}}</small>
              </ng-template>
            </ng-select>

            <!-- <ng-select [searchable]="true" class="wd-100p" formControlName="bankCode" [items]="bankCode"
              placeholder="Bank Code" [ngClass]="{ 'is-invalid': submitted && f.bankCode.errors }" [(ngModel)]="currency_Code"></ng-select> -->
          </div>
          <div class="form-group col-sm-4">
            <label>Sort Code</label>
            <input type="text" class="form-control" formControlName="sortCode" placeholder="Sort Code"
              [ngClass]="{ 'is-invalid': submitted && f.sortCode.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>Swift Code</label>
            <input type="text" class="form-control" formControlName="swiftCode" placeholder="Swift Code"
              [ngClass]="{ 'is-invalid': submitted && f.swiftCode.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>Bank Account No</label>
            <input type="text" class="form-control" formControlName="bankAccountNo"
              placeholder="Bank Account No"
              [ngClass]="{ 'is-invalid': submitted && f.bankAccountNo.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>IBAN</label>
            <input type="text" class="form-control" formControlName="iBAN" placeholder="IBAN"
              [ngClass]="{ 'is-invalid': submitted && f.iBAN.errors }">
          </div>
          <div class="form-group col-sm-4">
            <label>Account in Name of</label>
            <input type="text" class="form-control" formControlName="accountInNameOf" placeholder="Account in Name of"
              [ngClass]="{ 'is-invalid': submitted && f.accountInNameOf.errors }">
          </div>
          <div class="form-group col-sm-12">
            <div class="row">
              <div class="col-sm-4">
                <button type="submit" class="btn btn-primary btn-block">
                  Submit
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div *ngIf="alertVisible">
  <app-alert [alertData]='alertData' [alertVisible]='alertVisible' (cancel)='cancel()'>
  </app-alert>
</div>